<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Innovax Ingenieros Dashboard</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* ==================================== */
        /* Variables y Estilos Generales */
        /* ==================================== */
        :root {
            --bg-color: #1a222e; /* Fondo principal muy oscuro */
            --card-bg: #222b36; /* Fondo de tarjetas */
            --sidebar-bg: #222b36; /* Fondo sidebar igual que tarjetas */
            --topbar-bg: #222b36; /* Fondo topbar */
            --text-light: #e0e0e0; /* Texto claro general */
            --text-muted: #8899a6; /* Texto secundario/apagado */
            --primary-accent: #6c5ce7; /* Morado primario (para el logo Lu) */
            --accent-green: #2ed573; /* Verde vibrante */
            --accent-orange: #ff7f50; /* Naranja vibrante */
            --accent-blue: #1e90ff; /* Azul vibrante */
            --border-color: #313a46; /* Borde sutil */
            --shadow-color: rgba(0, 0, 0, 0.3); /* Sombra más oscura */
            --border-radius: 8px;
        }

        body {
            font-family: 'Roboto', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-light);
            margin: 0;
            display: flex;
            min-height: 100vh;
            overflow-x: hidden; /* Evitar scroll horizontal */
        }

        /* Contenedor principal de la aplicación */
        .app-container {
            display: flex;
            width: 100%;
            flex-direction: column;
        }

        /* ==================================== */
        /* Top Bar */
        /* ==================================== */
        .topbar {
            background-color: var(--topbar-bg);
            height: 60px;
            display: flex;
            align-items: center;
            padding: 0 20px;
            box-shadow: 0 2px 10px var(--shadow-color);
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        .topbar .left-section {
            display: flex;
            align-items: center;
            width: 250px; /* Ancho para el logo y nombre */
            flex-shrink: 0;
        }
        .topbar .logo {
            background-color: var(--primary-accent);
            width: 35px;
            height: 35px;
            border-radius: 6px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'Poppins', sans-serif;
            font-weight: 700;
            font-size: 1.2rem;
            margin-right: 10px;
        }
        .topbar .app-name {
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            font-size: 1.3rem;
        }
        .topbar .menu-toggle {
            display: none; /* Oculto por defecto, visible en móvil */
            font-size: 1.5rem;
            cursor: pointer;
            margin-right: 20px;
        }
        .topbar .search-bar {
            flex-grow: 1;
            display: flex;
            justify-content: center;
            position: relative;
        }
        .topbar .search-bar input {
            background-color: var(--border-color);
            border: none;
            border-radius: var(--border-radius);
            padding: 8px 15px 8px 40px;
            color: var(--text-light);
            width: 300px;
            max-width: 100%;
        }
        .topbar .search-bar input::placeholder {
            color: var(--text-muted);
        }
        .topbar .search-bar i {
            position: absolute;
            left: calc(50% - 135px); /* Ajustar según ancho del input */
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-muted);
        }
        .topbar .right-section {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-left: auto;
            flex-shrink: 0;
        }
        .topbar .icon-button {
            background: none;
            border: none;
            color: var(--text-light);
            font-size: 1.2rem;
            cursor: pointer;
            position: relative;
        }
        .topbar .icon-button .badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: var(--accent-orange);
            color: white;
            border-radius: 50%;
            padding: 2px 6px;
            font-size: 0.7rem;
            line-height: 1;
        }
        .topbar .user-profile {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-left: 10px;
        }
        .topbar .user-profile img {
            width: 35px;
            height: 35px;
            border-radius: 50%;
        }
        .topbar .user-profile span {
            font-weight: 500;
        }

        /* ==================================== */
        /* Sidebar + Main Content Wrapper */
        /* ==================================== */
        .content-wrapper {
            display: flex;
            flex-grow: 1;
        }

        /* ==================================== */
        /* Sidebar */
        /* ==================================== */
        .sidebar {
            width: 250px;
            background-color: var(--sidebar-bg);
            box-shadow: 2px 0 10px var(--shadow-color);
            padding-top: 20px;
            flex-shrink: 0;
            overflow-y: auto;
            transition: transform 0.3s ease-in-out;
        }
        .sidebar.hidden {
            transform: translateX(-100%);
        }
        .sidebar-user-card {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 20px;
        }
        .sidebar-user-card img {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            border: 3px solid var(--primary-accent);
            margin-bottom: 10px;
        }
        .sidebar-user-card h3 {
            margin: 0 0 5px 0;
            font-size: 1.1rem;
            font-weight: 600;
        }
        .sidebar-user-card span {
            font-size: 0.85rem;
            color: var(--text-muted);
        }
        .sidebar-nav-section-title {
            color: var(--text-muted);
            font-size: 0.8rem;
            text-transform: uppercase;
            padding: 10px 20px;
            margin-top: 20px;
            font-weight: 600;
        }
        .sidebar-nav ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        .sidebar-nav ul li a {
            display: flex;
            align-items: center;
            padding: 12px 20px;
            color: var(--text-light);
            text-decoration: none;
            transition: background-color 0.2s ease, color 0.2s ease;
            position: relative;
        }
        .sidebar-nav ul li a:hover {
            background-color: rgba(255, 255, 255, 0.08);
            color: white;
        }
        .sidebar-nav ul li a.active {
            background-color: rgba(255, 255, 255, 0.15);
            color: var(--accent-green);
        }
        .sidebar-nav ul li a i {
            margin-right: 15px;
            width: 20px;
            text-align: center;
            font-size: 1rem;
        }
        .sidebar-nav ul li a .fa-chevron-right {
            margin-left: auto;
            margin-right: 0;
            font-size: 0.8rem;
            transition: transform 0.2s ease;
        }
        .sidebar-nav ul li a.expanded .fa-chevron-right {
            transform: rotate(90deg);
        }
        .sidebar-nav ul ul { /* Submenú */
            background-color: rgba(0, 0, 0, 0.1);
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }
        .sidebar-nav ul ul.show {
            max-height: 200px; /* Ajustar según contenido */
        }
        .sidebar-nav ul ul li a {
            padding-left: 45px; /* Indentación del submenú */
            font-size: 0.9rem;
        }
        .sidebar-nav ul ul li a:hover {
            color: white;
        }

        /* ==================================== */
        /* Main Content */
        /* ==================================== */
        .main-content {
            flex-grow: 1;
            padding: 20px;
            background-color: var(--bg-color);
            display: flex;
            flex-direction: column;
        }
        .content-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            color: var(--text-light);
        }
        .content-header .user-greeting {
            font-family: 'Poppins', sans-serif;
            font-size: 1.8rem;
            font-weight: 600;
        }
        .content-header .last-login {
            font-size: 0.9rem;
            color: var(--text-muted);
        }
        .content-header .options-buttons button {
            background-color: var(--card-bg);
            border: 1px solid var(--border-color);
            color: var(--text-light);
            padding: 8px 15px;
            border-radius: var(--border-radius);
            cursor: pointer;
            margin-left: 10px;
            transition: background-color 0.2s ease;
        }
        .content-header .options-buttons button:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
        }

        /* Estilos de las Tarjetas KPI */
        .card {
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 20px;
            box-shadow: var(--shadow-color);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px var(--shadow-color);
        }

        .kpi-card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        .kpi-card-title {
            font-family: 'Poppins', sans-serif;
            font-size: 1rem;
            font-weight: 500;
            color: var(--text-light);
            margin: 0;
        }
        .kpi-percentage-badge {
            background-color: var(--primary-accent); /* Color de la imagen */
            color: white;
            padding: 4px 8px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 500;
        }
        .kpi-value-section {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        .kpi-main-value {
            font-family: 'Poppins', sans-serif;
            font-size: 2.2rem;
            font-weight: 700;
            color: white; /* Blanco para contraste */
            margin-bottom: 5px;
        }
        .kpi-change {
            font-size: 0.9rem;
            color: var(--text-muted);
            display: flex;
            align-items: center;
        }
        .kpi-change.positive {
            color: var(--accent-green);
        }
        .kpi-change.negative {
            color: var(--accent-orange);
        }
        .kpi-change i {
            margin-right: 5px;
        }
        .kpi-link {
            font-size: 0.9rem;
            color: var(--accent-blue);
            text-decoration: none;
            margin-top: 15px;
            display: block;
        }
        .kpi-link:hover {
            text-decoration: underline;
        }
        /* Colores específicos para los badges de las KPI */
        #revenue-kpi .kpi-percentage-badge { background-color: var(--accent-green); }
        #profit-kpi .kpi-percentage-badge { background-color: var(--accent-orange); }
        #sales-kpi .kpi-percentage-badge { background-color: var(--accent-blue); }

        /* Gráficos principales de la sección "Sales Status" */
        .sales-status-card {
            grid-column: 1 / -1; /* Ocupa todo el ancho */
            display: grid;
            grid-template-columns: repeat(3, 1fr); /* 3 columnas para los gráficos */
            gap: 20px;
            padding: 20px;
        }
        .sales-status-header {
            grid-column: 1 / -1;
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        .sales-status-header .card-title {
            margin: 0;
        }
        .sales-status-timeframe button {
            background-color: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-muted);
            padding: 6px 12px;
            border-radius: var(--border-radius);
            margin-left: 5px;
            cursor: pointer;
            font-size: 0.85rem;
        }
        .sales-status-timeframe button.active {
            background-color: var(--primary-accent);
            border-color: var(--primary-accent);
            color: white;
        }

        .chart-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            position: relative;
        }
        .chart-section canvas {
            max-height: 200px; /* Altura controlada para los gráficos de dona/línea */
            width: 100%;
        }
        .chart-section .chart-legend {
            list-style: none;
            padding: 0;
            margin-top: 15px;
            width: 100%;
            text-align: left;
        }
        .chart-section .chart-legend li {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 5px 0;
            border-bottom: 1px dashed rgba(255, 255, 255, 0.05);
            font-size: 0.9rem;
        }
        .chart-section .chart-legend li:last-child {
            border-bottom: none;
        }
        .chart-section .chart-legend .legend-item {
            display: flex;
            align-items: center;
            color: var(--text-light);
        }
        .chart-section .chart-legend .legend-marker {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            margin-right: 10px;
        }
        .chart-section .chart-legend .legend-value {
            color: var(--text-muted);
            font-weight: 500;
        }

        /* Gráfico de línea principal (Revenue for Last Month) */
        .revenue-chart-wrapper {
            grid-column: span 1; /* Para que quede al lado de los donuts */
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        .revenue-chart-canvas {
            background-color: var(--bg-color); /* Fondo del gráfico de línea */
            border-radius: var(--border-radius);
            padding: 10px;
            height: 180px; /* Altura específica para este gráfico */
        }
        .revenue-summary-kpis {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
        }
        .revenue-summary-kpis .summary-item {
            background-color: var(--bg-color);
            padding: 10px;
            border-radius: var(--border-radius);
            text-align: center;
            font-size: 0.85rem;
        }
        .revenue-summary-kpis .summary-item .label {
            color: var(--text-muted);
            margin-bottom: 5px;
        }
        .revenue-summary-kpis .summary-item .value {
            font-weight: 600;
            color: white;
        }
        
        /* Sección de Reportes Detallados */
        .detailed-reports-card {
            grid-column: 1 / -1;
            margin-top: 20px;
        }
        .detailed-reports-card table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0 8px;
            margin-top: 15px;
        }
        .detailed-reports-card th, .detailed-reports-card td {
            background-color: var(--bg-color);
            padding: 12px 15px;
            border: none;
            color: var(--text-light);
            font-size: 0.9rem;
        }
        .detailed-reports-card th {
            color: var(--text-muted);
            text-transform: uppercase;
            font-weight: 500;
            font-size: 0.8rem;
        }
        .detailed-reports-card tbody tr {
            border-radius: var(--border-radius);
            transition: background-color 0.2s ease;
        }
        .detailed-reports-card tbody tr:hover {
            background-color: rgba(255, 255, 255, 0.05);
        }
        .detailed-reports-card tbody td:first-child { border-top-left-radius: var(--border-radius); border-bottom-left-radius: var(--border-radius); }
        .detailed-reports-card tbody td:last-child { border-top-right-radius: var(--border-radius); border-bottom-right-radius: var(--border-radius); }

        /* Sticky Button */
        .sticky-button {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background-color: var(--primary-accent);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.5rem;
            box-shadow: 0 4px 15px var(--shadow-color);
            cursor: pointer;
            transition: background-color 0.2s ease;
            z-index: 999;
        }
        .sticky-button:hover {
            background-color: #5a4cda;
        }

        /* ==================================== */
        /* Media Queries (Responsividad) */
        /* ==================================== */
        @media (max-width: 992px) {
            .topbar .left-section {
                width: auto;
            }
            .topbar .app-name {
                display: none; /* Oculta el nombre de la app en pantallas más pequeñas */
            }
            .topbar .menu-toggle {
                display: block; /* Muestra el botón de menú */
            }
            .topbar .search-bar {
                margin-left: 20px;
                justify-content: flex-start;
            }
            .topbar .search-bar input {
                width: 200px;
            }
            .topbar .search-bar i {
                left: 15px;
            }
            .sidebar {
                position: fixed;
                left: 0;
                top: 60px; /* Debajo de la topbar */
                height: calc(100vh - 60px);
                z-index: 900;
                transform: translateX(-100%);
            }
            .sidebar.show {
                transform: translateX(0);
            }
            .content-wrapper {
                margin-left: 0; /* Asegura que el contenido se vea */
            }
            .dashboard-grid {
                grid-template-columns: 1fr 1fr;
            }
            .sales-status-card {
                grid-template-columns: 1fr;
            }
            .revenue-chart-wrapper {
                grid-column: span 1;
            }
            .sales-by-locations-chart, .orders-by-locations-chart {
                grid-column: span 1;
            }
        }

        @media (max-width: 768px) {
            .topbar {
                padding: 0 10px;
            }
            .topbar .search-bar {
                display: none; /* Ocultar barra de búsqueda en móviles pequeños */
            }
            .topbar .right-section {
                gap: 10px;
            }
            .topbar .user-profile span {
                display: none; /* Ocultar nombre de usuario */
            }
            .main-content {
                padding: 15px;
            }
            .content-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 5px;
            }
            .content-header .options-buttons {
                width: 100%;
                display: flex;
                justify-content: flex-end;
                margin-top: 10px;
            }
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
            .sales-status-card {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>

    <div class="app-container">
        <div class="topbar">
            <div class="left-section">
                <i class="fas fa-bars menu-toggle"></i>
                <div class="logo">Lu</div>
                <span class="app-name">Innovax Ingenieros</span>
            </div>
            <div class="search-bar">
                <i class="fas fa-search"></i>
                <input type="text" placeholder="search">
            </div>
            <div class="right-section">
                <button class="icon-button"><i class="fas fa-bell"></i><span class="badge">3</span></button>
                <button class="icon-button"><i class="fas fa-envelope"></i></button>
                <div class="user-profile">
                    <span>Jorge Celadita</span>
                </div>
            </div>
        </div>

        <div class="content-wrapper">
            <aside class="sidebar" id="sidebar">
                <div class="sidebar-user-card">
                    <img src="https://i.pravatar.cc/70?u=lu" alt="Lu Cjuno">
                    <h3>Lu</h3>
                    <span>Project Manager</span>
                </div>
                <nav class="sidebar-nav">
                    <div class="sidebar-nav-section-title">Layouts</div>
                    <ul>
                        <li><a href="#" class="active"><i class="fas fa-columns"></i> Dashboard</a></li>
                    </ul>
                    <div class="sidebar-nav-section-title">Options</div>
                    <ul>
                        <li><a href="#" class="toggle-submenu"><i class="fas fa-th-large"></i> Widgets <i class="fas fa-chevron-right"></i></a>
                            <ul class="submenu">
                                <li><a href="#">Widgets V1</a></li>
                                <li><a href="#">Widgets V2</a></li>
                            </ul>
                        </li>
                    </ul>
                    <div class="sidebar-nav-section-title">Elements</div>
                    <ul>
                        <li><a href="#" class="toggle-submenu"><i class="fas fa-cubes"></i> UI Elements <i class="fas fa-chevron-right"></i></a>
                            <ul class="submenu">
                                <li><a href="#">Buttons</a></li>
                                <li><a href="#">Alerts</a></li>
                            </ul>
                        </li>
                        <li><a href="#" class="toggle-submenu"><i class="fas fa-star"></i> Advanced UI <i class="fas fa-chevron-right"></i></a>
                            <ul class="submenu">
                                <li><a href="#">Timeline</a></li>
                                <li><a href="#">Sliders</a></li>
                            </ul>
                        </li>
                        <li><a href="#" class="toggle-submenu"><i class="fas fa-edit"></i> Form elements <i class="fas fa-chevron-right"></i></a>
                            <ul class="submenu">
                                <li><a href="#">Basic Forms</a></li>
                                <li><a href="#">Advanced Forms</a></li>
                            </ul>
                        </li>
                        <li><a href="#"><i class="fas fa-pencil-alt"></i> Editors</a></li>
                        <li><a href="#" class="toggle-submenu"><i class="fas fa-chart-area"></i> Charts <i class="fas fa-chevron-right"></i></a>
                            <ul class="submenu">
                                <li><a href="#">Chart.js</a></li>
                                <li><a href="#">Flot Charts</a></li>
                            </ul>
                        </li>
                        <li><a href="#"><i class="fas fa-table"></i> Tables</a></li>
                        <li><a href="#"><i class="fas fa-square"></i> Popups</a></li>
                        <li><a href="#"><i class="fas fa-bell"></i> Notifications</a></li>
                        <li><a href="#"><i class="fas fa-icons"></i> Icons</a></li>
                        <li><a href="#"><i class="fas fa-map"></i> Maps</a></li>
                        <li><a href="#"><i class="fas fa-user"></i> User Pages</a></li>
                        <li><a href="#"><i class="fas fa-exclamation-triangle"></i> Error pages</a></li>
                        <li><a href="#"><i class="fas fa-file"></i> General Pages</a></li>
                        <li><a href="#"><i class="fas fa-shopping-cart"></i> E-commerce</a></li>
                    </ul>
                </nav>
            </aside>

            <main class="main-content">
                <div class="content-header">
                    <div>
                        <h1 class="user-greeting">Jorge Celadita</h1>
                        <p class="last-login">Your last login: 21h ago from Cayma, Arequipa, Peru.</p>
                    </div>
                    <div class="options-buttons">
                        <button>Monthly</button>
                        <button class="active">Monthly</button>
                    </div>
                </div>

                <div class="dashboard-grid">
                    <div class="card kpi-card" id="revenue-kpi">
                        <div class="kpi-card-header">
                            <h2 class="kpi-card-title">Revenue</h2>
                            <span class="kpi-percentage-badge">15%</span>
                        </div>
                        <span class="kpi-label">Since last week</span>
                        <p class="kpi-main-value" id="revenue-value">S/0</p>
                        <span class="kpi-change positive"><i class="fas fa-arrow-up"></i> <span id="revenue-change">0.00%</span> (30 days)</span>
                        <a href="#" class="kpi-link">Read more</a>
                    </div>
                    <div class="card kpi-card" id="profit-kpi">
                        <div class="kpi-card-header">
                            <h2 class="kpi-card-title">Profit Share</h2>
                            <span class="kpi-percentage-badge">6.1%</span>
                        </div>
                        <span class="kpi-label">Since last week</span>
                        <p class="kpi-main-value" id="profit-value">0</p>
                        <span class="kpi-change positive"><i class="fas fa-arrow-up"></i> <span id="profit-change">0.00%</span> (30 days)</span>
                        <a href="#" class="kpi-link">Read more</a>
                    </div>
                    <div class="card kpi-card" id="sales-kpi">
                        <div class="kpi-card-header">
                            <h2 class="kpi-card-title">Daily Sales</h2>
                            <span class="kpi-percentage-badge">24%</span>
                        </div>
                        <span class="kpi-label">Since last week</span>
                        <p class="kpi-main-value" id="sales-value">0</p>
                        <span class="kpi-change negative"><i class="fas fa-arrow-down"></i> <span id="sales-change">0.00%</span> (30 days)</span>
                        <a href="#" class="kpi-link">Read more</a>
                    </div>
                    <div class="card sales-status-card">
                        <div class="sales-status-header">
                            <h2 class="card-title">Sales Status <span style="color: var(--text-muted); font-weight: 400;">Performance For Online Revenue</span></h2>
                            <div class="sales-status-timeframe">
                                <button>Week</button>
                                <button>Month</button>
                                <button class="active">Year</button>
                                <button>All</button>
                            </div>
                        </div>
                        <div class="chart-section orders-by-locations-chart">
                            <h3 style="color: var(--text-light); font-weight: 500; font-size: 1.1rem; margin-bottom: 15px;">Orders by Locations</h3>
                            <canvas id="orders-doughnut-chart"></canvas>
                            <ul class="chart-legend" id="orders-doughnut-legend">
                            </ul>
                        </div>
                        <div class="chart-section sales-by-locations-chart">
                            <h3 style="color: var(--text-light); font-weight: 500; font-size: 1.1rem; margin-bottom: 15px;">Sales by Locations</h3>
                            <canvas id="sales-doughnut-chart"></canvas>
                            <ul class="chart-legend" id="sales-doughnut-legend">
                            </ul>
                        </div>
                        <div class="chart-section revenue-chart-wrapper">
                            <h3 style="color: var(--text-light); font-weight: 500; font-size: 1.1rem; margin-bottom: 15px;">Revenue for Last Month</h3>
                            <div class="revenue-chart-canvas">
                                <canvas id="revenue-area-chart"></canvas>
                            </div>
                            <div class="revenue-summary-kpis">
                                <div class="summary-item">
                                    <div class="label">Total Income</div>
                                    <div class="value" id="total-income-summary">S/0</div>
                                </div>
                                <div class="summary-item">
                                    <div class="label">Monthly Avg</div>
                                    <div class="value" id="monthly-avg-summary">S/0</div>
                                </div>
                                <div class="summary-item">
                                    <div class="label">Total Sales</div>
                                    <div class="value" id="total-sales-summary">0</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card detailed-reports-card">
                        <h2 class="card-title">Detailed Reports <span style="color: var(--text-muted); font-weight: 400;">State By Sale</span></h2>
                        <table>
                            <thead>
                                <tr>
                                    <th>ID de Orden</th>
                                    <th>Cliente</th>
                                    <th>Producto</th>
                                    <th>Estado</th>
                                    <th>Total</th>
                                </tr>
                            </thead>
                            <tbody id="transactions-body">
                            </tbody>
                        </table>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <div class="sticky-button">
        <i class="fas fa-cogs"></i>
    </div>

    <script>
        // ====================================
        // Lógica de JavaScript para datos y gráficos
        // ====================================

        /**
         * Genera datos de negocio coherentes y aleatorios.
         */
        const generateDashboardData = () => {
            const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
            const products = ['Producto A', 'Producto B', 'Producto C', 'Producto D', 'Producto E'];
            const users = ['Laura G.', 'Pedro A.', 'Ana P.', 'Carlos L.', 'Sofía M.', 'Miguel R.', 'Elena S.', 'Javier N.'];
            const activities = ['Registro de usuario', 'Nueva compra', 'Actualización de perfil', 'Envío de formulario'];
            const statuses = ['Completado', 'Pendiente', 'Cancelado'];
            const locations = ['Saint Lucia', 'Liberia', 'Saint Helena', 'Kenya', 'Germany', 'Australia', 'United Kingdom', 'Romania'];

            // KPIs principales
            const revenueValue = Math.floor(Math.random() * (25000 - 15000 + 1) + 15000);
            const revenueChange = (Math.random() * (10 - 2) + 2).toFixed(2); // Entre 2% y 10%
            const revenueChangeType = Math.random() > 0.5 ? 'positive' : 'negative';

            const profitValue = Math.floor(Math.random() * (1500 - 500 + 1) + 500);
            const profitChange = (Math.random() * (8 - 1) + 1).toFixed(2); // Entre 1% y 8%
            const profitChangeType = Math.random() > 0.5 ? 'positive' : 'negative';

            const salesValue = Math.floor(Math.random() * (500 - 100 + 1) + 100);
            const salesChange = (Math.random() * (15 - 3) + 3).toFixed(2); // Entre 3% y 15%
            const salesChangeType = Math.random() > 0.5 ? 'positive' : 'negative';

            // Datos para el gráfico de área (Revenue for Last Month)
            const areaChartData = months.map(() => Math.floor(Math.random() * 50 + 10)); // Valores de 10 a 60
            const totalIncome = areaChartData.reduce((sum, val) => sum + val, 0) * 100; // Simula ingresos en S/
            const monthlyAvg = (totalIncome / months.length).toFixed(2);
            const totalSalesCount = Math.floor(totalIncome / 200);

            // Datos para los gráficos de dona (Orders/Sales by Locations)
            const ordersByLocations = locations.slice(0, 4).map(loc => ({
                label: loc,
                value: Math.floor(Math.random() * 300 + 50)
            }));
            const salesByLocations = locations.slice(4, 8).map(loc => ({
                label: loc,
                value: Math.floor(Math.random() * 500 + 100)
            }));

            // Colores para los gráficos de dona
            const doughnutColors = [
                '#6c5ce7', // Morado
                '#00cec9', // Turquesa
                '#fdcb6e', // Amarillo
                '#e17055', // Coral
                '#0984e3', // Azul claro
                '#d63031', // Rojo
                '#2ecc71', // Verde esmeralda
                '#f0932b'  // Naranja
            ];

            // Tabla de transacciones
            const transactions = Array.from({ length: 8 }, () => ({
                id: `ORD-${Math.random().toString(36).substr(2, 6).toUpperCase()}`,
                client: users[Math.floor(Math.random() * users.length)],
                product: products[Math.floor(Math.random() * products.length)],
                status: statuses[Math.floor(Math.random() * statuses.length)],
                total: (Math.random() * 800 + 50).toFixed(2) // entre 50 y 850
            }));
            
            return {
                months,
                areaChartData,
                totalIncome: totalIncome.toLocaleString('es-PE', { minimumFractionDigits: 2, maximumFractionDigits: 2 }), // Formato S/
                monthlyAvg: monthlyAvg.toLocaleString('es-PE', { minimumFractionDigits: 2, maximumFractionDigits: 2 }), // Formato S/
                totalSalesCount,
                ordersByLocations,
                salesByLocations,
                doughnutColors,
                transactions,
                kpis: {
                    revenue: { value: revenueValue.toLocaleString('es-PE'), change: revenueChange, type: revenueChangeType },
                    profit: { value: profitValue.toLocaleString('es-PE'), change: profitChange, type: profitChangeType },
                    sales: { value: salesValue.toLocaleString('es-PE'), change: salesChange, type: salesChangeType },
                }
            };
        };
        
        const dashboardData = generateDashboardData();

        /**
         * Actualiza los valores de las tarjetas KPI.
         */
        const updateKPIs = () => {
            // Revenue KPI
            document.getElementById('revenue-value').textContent = `S/${dashboardData.kpis.revenue.value}`;
            document.getElementById('revenue-change').textContent = `${dashboardData.kpis.revenue.change}%`;
            document.querySelector('#revenue-kpi .kpi-change').classList.remove('positive', 'negative');
            document.querySelector('#revenue-kpi .kpi-change').classList.add(dashboardData.kpis.revenue.type);
            document.querySelector('#revenue-kpi .kpi-change i').className = `fas fa-arrow-${dashboardData.kpis.revenue.type === 'positive' ? 'up' : 'down'}`;

            // Profit KPI
            document.getElementById('profit-value').textContent = `S/${dashboardData.kpis.profit.value}`;
            document.getElementById('profit-change').textContent = `${dashboardData.kpis.profit.change}%`;
            document.querySelector('#profit-kpi .kpi-change').classList.remove('positive', 'negative');
            document.querySelector('#profit-kpi .kpi-change').classList.add(dashboardData.kpis.profit.type);
            document.querySelector('#profit-kpi .kpi-change i').className = `fas fa-arrow-${dashboardData.kpis.profit.type === 'positive' ? 'up' : 'down'}`;

            // Daily Sales KPI
            document.getElementById('sales-value').textContent = dashboardData.kpis.sales.value; // Este no lleva moneda
            document.getElementById('sales-change').textContent = `${dashboardData.kpis.sales.change}%`;
            document.querySelector('#sales-kpi .kpi-change').classList.remove('positive', 'negative');
            document.querySelector('#sales-kpi .kpi-change').classList.add(dashboardData.kpis.sales.type);
            document.querySelector('#sales-kpi .kpi-change i').className = `fas fa-arrow-${dashboardData.kpis.sales.type === 'positive' ? 'up' : 'down'}`;

            // Summary KPIs for Revenue Chart
            document.getElementById('total-income-summary').textContent = `S/${dashboardData.totalIncome}`;
            document.getElementById('monthly-avg-summary').textContent = `S/${dashboardData.monthlyAvg}`;
            document.getElementById('total-sales-summary').textContent = dashboardData.totalSalesCount.toLocaleString('es-PE');
        };

        /**
         * Dibuja un gráfico de dona.
         */
        const drawDoughnutChart = (canvasId, data, colors, legendId) => {
            const canvas = document.getElementById(canvasId);
            if (!canvas) return;
            const ctx = canvas.getContext('2d');
            
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            let startAngle = 0;
            const total = data.reduce((sum, item) => sum + item.value, 0);
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const radius = Math.min(centerX, centerY) * 0.9;
            const innerRadius = radius * 0.6;
            
            data.forEach((item, index) => {
                const sliceAngle = (item.value / total) * (Math.PI * 2);
                ctx.beginPath();
                ctx.fillStyle = colors[index % colors.length];
                ctx.arc(centerX, centerY, radius, startAngle, startAngle + sliceAngle);
                ctx.lineTo(centerX, centerY);
                ctx.closePath();
                ctx.fill();
                startAngle += sliceAngle;
            });
            ctx.globalCompositeOperation = 'destination-out';
            ctx.beginPath();
            ctx.arc(centerX, centerY, innerRadius, 0, Math.PI * 2);
            ctx.fill();
            ctx.globalCompositeOperation = 'source-over';

            // Populate legend
            const legendElement = document.getElementById(legendId);
            if (legendElement) {
                legendElement.innerHTML = '';
                data.forEach((item, index) => {
                    const listItem = document.createElement('li');
                    listItem.innerHTML = `
                        <div class="legend-item">
                            <span class="legend-marker" style="background-color: ${colors[index % colors.length]};"></span>
                            ${item.label}
                        </div>
                        <span class="legend-value">S/${item.value.toLocaleString('es-PE', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</span>
                    `;
                    legendElement.appendChild(listItem);
                });
            }
        };

        /**
         * Dibuja un gráfico de área.
         */
        const drawAreaChart = (canvasId, labels, data, color) => {
            const canvas = document.getElementById(canvasId);
            if (!canvas) return;
            const ctx = canvas.getContext('2d');
            
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            const maxVal = Math.max(...data) * 1.2; // 20% margen superior
            const chartArea = { width: canvas.width, height: canvas.height };

            // Gradiente para el área
            const gradient = ctx.createLinearGradient(0, 0, 0, chartArea.height);
            gradient.addColorStop(0, color.replace(')', ', 0.6)')); // Transparencia superior
            gradient.addColorStop(1, color.replace(')', ', 0)'));   // Completamente transparente abajo

            // Dibujar el área
            ctx.beginPath();
            ctx.moveTo(0, chartArea.height);
            data.forEach((value, index) => {
                const x = index * (chartArea.width / (labels.length - 1));
                const y = chartArea.height - (value / maxVal) * chartArea.height;
                ctx.lineTo(x, y);
            });
            ctx.lineTo(chartArea.width, chartArea.height);
            ctx.closePath();
            ctx.fillStyle = gradient;
            ctx.fill();

            // Dibujar la línea
            ctx.beginPath();
            ctx.strokeStyle = color.replace(')', ', 1)'); // Línea opaca
            ctx.lineWidth = 2;
            data.forEach((value, index) => {
                const x = index * (chartArea.width / (labels.length - 1));
                const y = chartArea.height - (value / maxVal) * chartArea.height;
                if (index === 0) { ctx.moveTo(x, y); } else { ctx.lineTo(x, y); }
            });
            ctx.stroke();
        };

        /**
         * Rellena la tabla con las transacciones.
         */
        const populateTransactionsTable = () => {
            const tableBody = document.getElementById('transactions-body');
            if (!tableBody) return;
            tableBody.innerHTML = '';
            dashboardData.transactions.forEach(tx => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${tx.id}</td>
                    <td>${tx.client}</td>
                    <td>${tx.product}</td>
                    <td>${tx.status}</td>
                    <td>S/${tx.total.toLocaleString('es-PE', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</td>
                `;
                tableBody.appendChild(row);
            });
        };

        /**
         * Inicializa todos los componentes del dashboard.
         */
        window.onload = () => {
            updateKPIs();
            
            drawDoughnutChart('orders-doughnut-chart', dashboardData.ordersByLocations, dashboardData.doughnutColors, 'orders-doughnut-legend');
            drawDoughnutChart('sales-doughnut-chart', dashboardData.salesByLocations, dashboardData.doughnutColors.slice(4), 'sales-doughnut-legend'); // Usar otros colores

            drawAreaChart('revenue-area-chart', dashboardData.months, dashboardData.areaChartData, 'rgba(108, 92, 231'); // Color morado

            populateTransactionsTable();

            // Lógica para submenús del sidebar
            document.querySelectorAll('.toggle-submenu').forEach(item => {
                item.addEventListener('click', function(e) {
                    e.preventDefault();
                    this.classList.toggle('expanded');
                    const submenu = this.nextElementSibling;
                    if (submenu && submenu.classList.contains('submenu')) {
                        submenu.classList.toggle('show');
                        if (submenu.classList.contains('show')) {
                            submenu.style.maxHeight = submenu.scrollHeight + "px";
                        } else {
                            submenu.style.maxHeight = "0";
                        }
                    }
                });
            });

            // Lógica para el toggle del sidebar en móvil
            const menuToggle = document.querySelector('.menu-toggle');
            const sidebar = document.getElementById('sidebar');
            menuToggle.addEventListener('click', () => {
                sidebar.classList.toggle('show');
            });
        };
    </script>
</body>
</html>
